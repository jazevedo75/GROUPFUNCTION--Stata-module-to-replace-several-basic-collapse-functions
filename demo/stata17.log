----------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:/jazevedo/GitHub/myados/groupfunction/demo/stata17.log
  log type:  text
 opened on:   8 Aug 2024, 13:55:01
r; t=0.00 13:55:01

. 
.         cls
r; t=0.00 13:55:01

. 
.         clear all
r; t=0.02 13:55:01

.         set more off
r; t=0.00 13:55:01

.         set obs 300000
Number of observations (_N) was 0, now 300,000.
r; t=0.00 13:55:01

. 
.         version 13
r; t=0.00 13:55:01

.         set seed 458267
r; t=0.00 13:55:01

. 
.         gen region = int(runiform()*20)
r; t=0.04 13:55:01

. 
.         replace region = 1 if inrange(region,0,3)
(44,817 real changes made)
r; t=0.00 13:55:01

.         replace region = 2 if inrange(region,4,5)
(30,030 real changes made)
r; t=0.00 13:55:01

. 
. 
.         //Income per capita
.         forval z=1/200{
  2.                         gen x_`z' = region*runiform()*4000 + rnormal()*
> 200
  3.         }
r; t=3.75 13:55:05

. 
. 
.         forval z=1/300{
  2.                         gen y`z' = runiform()*100 + (rnormal()*20)^2
  3.         }
r; t=10.04 13:55:15

. 
.         gen wtg = abs(rnormal())
r; t=0.02 13:55:15

. 
.         //time collapse
.         preserve
r; t=0.08 13:55:15

.         timer on 1
r; t=0.01 13:55:15

.         collapse (mean) y* x_* [aw=wtg], by(region)
r; t=2.73 13:55:18

.         timer off 1
r; t=0.00 13:55:18

.         restore
r; t=0.01 13:55:18

. 
.         //time fcollapse (Weights not supported)
.         preserve
r; t=0.12 13:55:18

.         timer on 2
r; t=0.00 13:55:18

.         fcollapse (mean) y* x_*, by(region)
r; t=5.18 13:55:23

.         timer off 2 
r; t=0.00 13:55:23

.         restore
r; t=0.00 13:55:23

. 
.         //time groupfunction
.         preserve 
r; t=0.09 13:55:23

.         timer on 3
r; t=0.01 13:55:23

.         groupfunction [aw=wtg], mean(y* x_*) by(region)
r; t=1.70 13:55:25

.         timer off 3
r; t=0.00 13:55:25

.         restore
r; t=0.01 13:55:25

. 
.         di " Stata 17"
 Stata 17
r; t=0.00 13:55:25

. 
.         display  in r c(version)
13
r; t=0.00 13:55:25

.         which groupfunction
c:\ado\plus\g\groupfunction.ado
*!version 2.2           (28 Jan 2021)   
*! version 2.0          (21 March 2020)         cpbcalc 
r; t=0.00 13:55:25

. 
.         timer list
   1:      2.73 /        1 =       2.7260
   2:      5.18 /        1 =       5.1800
   3:      1.70 /        1 =       1.7010
r; t=0.00 13:55:25

. 
.           *---------------------------------------------
.           
.                   
.         cd ${clone}
D:\jazevedo\GitHub\myados\groupfunction\src
r; t=0.00 13:55:25

. 
.         which groupfunction
.\g\groupfunction.ado
*!version 2.2.1 (7 Aug 2024)
*! version 2.0          (21 March 2020)         cpbcalc 
r; t=0.00 13:55:25

.           
.           //time groupfunction
.         preserve 
r; t=0.08 13:55:25

.         timer on 4
r; t=0.00 13:55:25

.         groupfunction [aw=wtg], mean(y* x_*) by(region)
r; t=1.63 13:55:26

.         timer off 4
r; t=0.00 13:55:26

.         restore
r; t=0.02 13:55:26

. 
.         timer list
   1:      2.73 /        1 =       2.7260
   2:      5.18 /        1 =       5.1800
   3:      1.70 /        1 =       1.7010
   4:      1.63 /        1 =       1.6330
r; t=0.00 13:55:26

. 
. log close
      name:  <unnamed>
       log:  D:/jazevedo/GitHub/myados/groupfunction/demo/stata17.log
  log type:  text
 closed on:   8 Aug 2024, 13:55:26
------------------------------------------------------------------------------------------------------------------------
